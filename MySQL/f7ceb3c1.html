<!-- build time:Fri Aug 02 2019 20:11:52 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html class="theme-next gemini use-motion" lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><script src="/lib/pace/pace.min.js?v=1.0.2"></script><link href="/lib/pace/pace-theme-flash.min.css?v=1.0.2" rel="stylesheet"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="MySQL,"><link rel="alternate" href="/atom.xml" title="飘絮不飘" type="application/atom+xml"><meta name="description" content="mysql 查询当天、本周，本月，上一个月的数据今天select * from 表名 where to_days(时间字段名) = to_days(now());昨天SELECT * FROM 表名 WHERE TO_DAYS( NOW( ) ) - TO_DAYS( 时间字段名) &amp;lt;= 1近7天SELECT * FROM 表名 where DATE_SUB(CURDATE(), INTER"><meta name="keywords" content="MySQL"><meta property="og:type" content="article"><meta property="og:title" content="MySQL对时间常用操作"><meta property="og:url" content="http://smartdot.club/MySQL/f7ceb3c1.html"><meta property="og:site_name" content="飘絮不飘"><meta property="og:description" content="mysql 查询当天、本周，本月，上一个月的数据今天select * from 表名 where to_days(时间字段名) = to_days(now());昨天SELECT * FROM 表名 WHERE TO_DAYS( NOW( ) ) - TO_DAYS( 时间字段名) &amp;lt;= 1近7天SELECT * FROM 表名 where DATE_SUB(CURDATE(), INTER"><meta property="og:locale" content="zh-Hans"><meta property="og:updated_time" content="2019-08-02T11:59:11.770Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="MySQL对时间常用操作"><meta name="twitter:description" content="mysql 查询当天、本周，本月，上一个月的数据今天select * from 表名 where to_days(时间字段名) = to_days(now());昨天SELECT * FROM 表名 WHERE TO_DAYS( NOW( ) ) - TO_DAYS( 时间字段名) &amp;lt;= 1近7天SELECT * FROM 表名 where DATE_SUB(CURDATE(), INTER"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Gemini",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!0,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://smartdot.club/MySQL/f7ceb3c1.html"><title>MySQL对时间常用操作 | 飘絮不飘</title><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?6eab8e406784737599c55375c44984da";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><a href="https://github.com/caifenglin"><img style="position:absolute;top:0;left:0;border:0;z-index:999999" src="https://s3.amazonaws.com/github/ribbons/forkme_left_white_ffffff.png" alt="Fork me on GitHub"></a><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">飘絮不飘</span> <span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">CaiFengLin</h1></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-schedule"><a href="/schedule/" rel="section"><i class="menu-item-icon fa fa-fw fa-calendar"></i><br>日程表</a></li><li class="menu-item menu-item-application"><a href="/application" rel="section"><i class="menu-item-icon fa fa-fw fa-download"></i><br>application</a></li><li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="menu-item-icon fa fa-fw fa-heartbeat"></i><br>公益404</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://smartdot.club/MySQL/f7ceb3c1.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="caifenglin"><meta itemprop="description" content><meta itemprop="image" content="/images/information/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="飘絮不飘"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">MySQL对时间常用操作</h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-03T20:17:09+08:00">2017-12-03 </time><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于&#58;</span> <time title="更新于" itemprop="dateModified" datetime="2019-08-02T19:59:11+08:00">2019-08-02 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span> </a></span></span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><a href="/MySQL/f7ceb3c1.html#comments" itemprop="discussionUrl"><span class="post-comments-count gitment-comments-count" data-xid="/MySQL/f7ceb3c1.html" itemprop="commentsCount"></span></a></span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">字数统计&#58;</span> <span title="字数统计">1.5k </span><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span title="阅读时长">8</span></div></div></header><div class="post-body" itemprop="articleBody"><h3 id="mysql-查询当天、本周，本月，上一个月的数据"><a href="#mysql-查询当天、本周，本月，上一个月的数据" class="headerlink" title="mysql 查询当天、本周，本月，上一个月的数据"></a>mysql 查询当天、本周，本月，上一个月的数据</h3><p>今天<br>select * from 表名 where to_days(时间字段名) = to_days(now());</p><p>昨天<br>SELECT * FROM 表名 WHERE TO_DAYS( NOW( ) ) - TO_DAYS( 时间字段名) &lt;= 1</p><p>近7天<br>SELECT * FROM 表名 where DATE_SUB(CURDATE(), INTERVAL 7 DAY) &lt;= date(时间字段名)</p><p>近30天<br>SELECT * FROM 表名 where DATE_SUB(CURDATE(), INTERVAL 30 DAY) &lt;= date(时间字段名)</p><p>本月<br>SELECT * FROM 表名 WHERE DATE_FORMAT( 时间字段名, ‘%Y%m’ ) = DATE_FORMAT( CURDATE( ) , ‘%Y%m’ )</p><p>上一月<br>SELECT * FROM 表名 WHERE PERIOD_DIFF( date_format( now( ) , ‘%Y%m’ ) , date_format( 时间字段名, ‘%Y%m’ ) ) =1</p><p>查询本季度数据<br>select * from <code>ht_invoice_information</code> where QUARTER(create_date)=QUARTER(now());</p><p>查询上季度数据<br>select * from <code>ht_invoice_information</code> where QUARTER(create_date)=QUARTER(DATE_SUB(now(),interval 1 QUARTER));</p><p>查询本年数据<br>select * from <code>ht_invoice_information</code> where YEAR(create_date)=YEAR(NOW());</p><p>查询上年数据<br>select * from <code>ht_invoice_information</code> where year(create_date)=year(date_sub(now(),interval 1 year));</p><p>查询当前这周的数据<br>SELECT name,submittime FROM enterprise WHERE YEARWEEK(date_format(submittime,’%Y-%m-%d’)) = YEARWEEK(now());</p><p>查询上周的数据<br>SELECT name,submittime FROM enterprise WHERE YEARWEEK(date_format(submittime,’%Y-%m-%d’)) = YEARWEEK(now())-1;</p><p>查询上个月的数据<br>select name,submittime from enterprise where date_format(submittime,’%Y-%m’)=date_format(DATE_SUB(curdate(), INTERVAL 1 MONTH),’%Y-%m’)</p><p>select * from user where DATE_FORMAT(pudate,’%Y%m’) = DATE_FORMAT(CURDATE(),’%Y%m’) ;</p><p>select * from user where WEEKOFYEAR(FROM_UNIXTIME(pudate,’%y-%m-%d’)) = WEEKOFYEAR(now())</p><p>select * from user where MONTH(FROM_UNIXTIME(pudate,’%y-%m-%d’)) = MONTH(now())</p><p>select * from user where YEAR(FROM_UNIXTIME(pudate,’%y-%m-%d’)) = YEAR(now()) and MONTH(FROM_UNIXTIME(pudate,’%y-%m-%d’)) = MONTH(now())</p><p>select * from user where pudate between 上月最后一天 and 下月第一天</p><p>查询当前月份的数据<br>select name,submittime from enterprise where date_format(submittime,’%Y-%m’)=date_format(now(),’%Y-%m’)</p><p>查询距离当前现在6个月的数据<br>select name,submittime from enterprise where submittime between date_sub(now(),interval 6 month) and now();</p><p>查询当前年月日，时分秒<br>select now();</p><p>查询当前年<br>select year(now());</p><p>查询当前月份<br>select month(now());</p><p>查询当前日<br>select day(now());</p><p>查询当前时<br>select Hour(now());</p><p>如下:<br>set @dt = ‘2008-09-10 07:15:30.123456’;</p><p>select date(@dt); – 2008-09-10<br>select time(@dt); – 07:15:30.123456<br>select year(@dt); – 2008<br>select quarter(@dt); – 3<br>select month(@dt); – 9<br>select week(@dt); – 36<br>select day(@dt); – 10<br>select hour(@dt); – 7<br>select minute(@dt); – 15<br>select second(@dt); – 30<br>select microsecond(@dt); – 123456</p><p>MySQL dayof… 函数：dayofweek(), dayofmonth(), dayofyear()<br>分别返回日期参数，在一周、一月、一年中的位置。<br>set @dt = ‘2008-08-08’;</p><p>select dayofweek(@dt); – 6<br>select dayofmonth(@dt); – 8<br>select dayofyear(@dt); – 221</p><p>MySQL week… 函数：week(), weekofyear(), dayofweek(), weekday(), yearweek()<br>set @dt = ‘2008-08-08’;</p><p>select week(@dt); – 31<br>select week(@dt,3); – 32<br>select weekofyear(@dt); – 32</p><p>select dayofweek(@dt); – 6<br>select weekday(@dt); – 4</p><p>select yearweek(@dt); – 200831</p><p>MySQL 返回星期和月份名称函数：dayname(), monthname()<br>set @dt = ‘2008-08-08’;</p><p>select dayname(@dt); – Friday<br>select monthname(@dt); – August</p><p>MySQL last_day() 函数：返回月份中的最后一天。<br>select last_day(‘2008-02-01’); – 2008-02-29<br>select last_day(‘2008-08-08’); – 2008-08-31</p><p>MySQL 日期时间计算函数<br>MySQL 为日期增加一个时间间隔：date_add()<br>set @dt = now();</p><p>select date_add(@dt, interval 1 day); – add 1 day<br>select date_add(@dt, interval 1 hour); – add 1 hour<br>select date_add(@dt, interval 1 minute); – …<br>select date_add(@dt, interval 1 second);<br>select date_add(@dt, interval 1 microsecond);<br>select date_add(@dt, interval 1 week);<br>select date_add(@dt, interval 1 month);<br>select date_add(@dt, interval 1 quarter);<br>select date_add(@dt, interval 1 year);select date_add(@dt, interval -1 day); – sub 1 day</p><p>MySQL查询一个月天数<br>select (curdate()-interval day(curdate()) day) + interval s day as dt<br>from (<br>select 1 as s<br>union all<br>select 2<br>union all<br>select 3<br>union all<br>select 4<br>union all<br>select 5<br>union all<br>select 6<br>union all<br>select 7<br>union all<br>select 8<br>union all<br>select 9<br>union all<br>select 10<br>union all<br>select 11<br>union all<br>select 12<br>union all<br>select 13<br>union all<br>select 14<br>union all<br>select 15<br>union all<br>select 16<br>union all<br>select 17<br>union all<br>select 18<br>union all<br>select 19<br>union all<br>select 20<br>union all<br>select 21<br>union all<br>select 22<br>union all<br>select 23<br>union all<br>select 24<br>union all<br>select 25<br>union all<br>select 26<br>union all<br>select 27<br>union all<br>select 28<br>union all<br>select 29<br>union all<br>select 30<br>union all<br>select 31<br>) m<br>where s&lt;=day(LAST_DAY(CURDATE()));</p><p>MySQL查询当月天数<br>select m.s as day<br>from (<br>select 1 as s<br>union all<br>select 2<br>union all<br>select 3<br>union all<br>select 4<br>union all<br>select 5<br>union all<br>select 6<br>union all<br>select 7<br>union all<br>select 8<br>union all<br>select 9<br>union all<br>select 10<br>union all<br>select 11<br>union all<br>select 12<br>union all<br>select 13<br>union all<br>select 14<br>union all<br>select 15<br>union all<br>select 16<br>union all<br>select 17<br>union all<br>select 18<br>union all<br>select 19<br>union all<br>select 20<br>union all<br>select 21<br>union all<br>select 22<br>union all<br>select 23<br>union all<br>select 24<br>union all<br>select 25<br>union all<br>select 26<br>union all<br>select 27<br>union all<br>select 28<br>union all<br>select 29<br>union all<br>select 30<br>union all<br>select 31<br>) m<br>where s&lt;=day(LAST_DAY(CURDATE()));</p><p>一些用法如下:<br>mysql&gt; select DATE_FORMAT(CURDATE(), ‘%Y%m’);<br>+——————————–+<br>| DATE_FORMAT(CURDATE(), ‘%Y%m’) |<br>+——————————–+<br>| 201803 |<br>+——————————–+<br>1 row in set (0.00 sec)</p><p>mysql&gt; select DATE_SUB(‘2017-04-01’,INTERVAL 1 MONTH)<br>-&gt; ;<br>+—————————————–+<br>| DATE_SUB(‘2017-04-01’,INTERVAL 1 MONTH) |<br>+—————————————–+<br>| 2017-03-01 |<br>+—————————————–+<br>1 row in set (0.05 sec)</p><p>mysql&gt; select DATE_SUB(‘2017-04-01’,INTERVAL 1 YEAR);<br>+—————————————-+<br>| DATE_SUB(‘2017-04-01’,INTERVAL 1 YEAR) |<br>+—————————————-+<br>| 2016-04-01 |<br>+—————————————-+<br>1 row in set (0.00 sec)</p><p>mysql&gt; select DATE_SUB(NOW(),INTERVAL 1 YEAR);<br>+———————————+<br>| DATE_SUB(NOW(),INTERVAL 1 YEAR) |<br>+———————————+<br>| 2017-03-27 09:20:22 |<br>+———————————+<br>1 row in set (0.00 sec)</p><p>mysql&gt; select DATE_SUB(NOW(),INTERVAL 1 YEAR);<br>+———————————+<br>| DATE_SUB(NOW(),INTERVAL 1 YEAR) |<br>+———————————+<br>| 2017-03-27 09:21:42 |<br>+———————————+<br>1 row in set (0.00 sec)</p><p>mysql&gt;</p><p>mysql&gt; select ( DATE_FORMAT(now(), ‘%Y%m’)-1);<br>+———————————+<br>| ( DATE_FORMAT(now(), ‘%Y%m’)-1) |<br>+———————————+<br>| 201802 |<br>+———————————+<br>1 row in set (0.07 sec)</p><p>mysql&gt; select ( DATE_FORMAT(now(), ‘%m’)-1);<br>+——————————-+<br>| ( DATE_FORMAT(now(), ‘%m’)-1) |<br>+——————————-+<br>| 2 |<br>+——————————-+<br>1 row in set (0.00 sec)</p><p>mysql&gt; select DATE_FORMAT(CURDATE(), ‘%Y%m’);<br>+——————————–+<br>| DATE_FORMAT(CURDATE(), ‘%Y%m’) |<br>+——————————–+<br>| 201803 |<br>+——————————–+<br>1 row in set (0.08 sec)</p><p>mysql&gt; select YEAR(DATE_SUB(NOW(),INTERVAL 1 YEAR));<br>+—————————————+<br>| YEAR(DATE_SUB(NOW(),INTERVAL 1 YEAR)) |<br>+—————————————+<br>| 2017 |<br>+—————————————+<br>1 row in set (0.06 sec)</p><p>mysql&gt; select DATE_FORMAT(now(), ‘%Y%m’);<br>+—————————-+<br>| DATE_FORMAT(now(), ‘%Y%m’) |<br>+—————————-+<br>| 201803 |<br>+—————————-+<br>1 row in set (0.27 sec)</p><p>mysql&gt; select DATE_FORMAT(now(), ‘%m’);<br>+————————–+<br>| DATE_FORMAT(now(), ‘%m’) |<br>+————————–+<br>| 03 |<br>+————————–+<br>1 row in set (0.00 sec)</p><p>以下展示两个例子，按月统计和按日统计:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="string">"year"</span>.equals(type)) &#123;</span><br><span class="line">			<span class="comment">// 年走势，按月查</span></span><br><span class="line">			unit = <span class="string">"月"</span>;</span><br><span class="line">			title = TimeUtil.getCurrentYear() +<span class="string">"问题缺陷走势"</span>;</span><br><span class="line">			sql = <span class="string">"select distinct a. month as name, ifnull(b.count, 0) as count from ( select 1 as month union select 2 as month union select 3 as month union select 4 as month union select 5 as month union select 6 as month union select 7 as month union select 8 as month union select 9 as month union select 10 as month union select 11 as month union select 12 as month ) as a left join ( select month (fd_jlsj) as month, count(pk_qxyhjl) as count from t_sb_qxyhjl where year (fd_jlsj) = year (now()) and pub_jlzt &lt;&gt; '草拟' group by month (fd_jlsj)) as b on a. month = b. month"</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">"month"</span>.equals(type)) &#123;</span><br><span class="line">			<span class="comment">// 月走势，按日查</span></span><br><span class="line">			unit = <span class="string">"日"</span>;</span><br><span class="line">			title = TimeUtil.getCurrentYearMonth() +<span class="string">"问题缺陷走势"</span>;</span><br><span class="line">			sql = <span class="string">"select distinct a. day as name, ifnull(b.count, 0) as count from ( select m.s as day from ( select 1 as s union all select 2 union all select 3 union all select 4 union all select 5 union all select 6 union all select 7 union all select 8 union all select 9 union all select 10 union all select 11 union all select 12 union all select 13 union all select 14 union all select 15 union all select 16 union all select 17 union all select 18 union all select 19 union all select 20 union all select 21 union all select 22 union all select 23 union all select 24 union all select 25 union all select 26 union all select 27 union all select 28 union all select 29 union all select 30 union all select 31 ) m where s &lt;= day (last_day(curdate()))) as a left join ( select day (fd_jlsj) as day, count(pk_qxyhjl) count from t_sb_qxyhjl where date_format(now(), '%Y-%m') = date_format(fd_jlsj, '%Y-%m') and pub_jlzt &lt;&gt; '草拟' group by day (fd_jlsj)) as b on a. day = b. day"</span>;</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure><p>MySQL修改字段：<br>t_table 表示:表名<br>t_filed 表示:字段</p><p>添加字段<br>alter table t_table add column t_filed int(11) DEFAULT NULL COMMENT ‘是否是名家:0:否，1是’;</p></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">------ 本文结束------</div></div></div><div></div><div><div id="wechat_subscriber" style="display:block;padding:10px 0;margin:20px auto;width:100%;text-align:center"><img id="wechat_subscriber_qcode" src="/images/information/wechat-qcode.jpg" alt="caifenglin wechat" style="width:200px;max-width:100%"><div>欢迎您扫一扫上面的微信公众号，订阅我的博客！</div></div></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>坚持原创技术分享，您的支持将鼓励我继续创作！</div><button id="rewardButton" disable="enable" onclick='var e=document.getElementById("QR");"none"===e.style.display?e.style.display="block":e.style.display="none"'><span>打赏</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"><img id="wechat_qr" src="/images/information/wechatpay.png" alt="caifenglin 微信支付"><p>微信支付</p></div><div id="alipay" style="display:inline-block"><img id="alipay_qr" src="/images/information/alipay.jpg" alt="caifenglin 支付宝"><p>支付宝</p></div></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong> caifenglin</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="http://smartdot.club/MySQL/f7ceb3c1.html" title="MySQL对时间常用操作">http://smartdot.club/MySQL/f7ceb3c1.html</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/MySQL/" rel="tag"><i class="fa fa-tag"></i> MySQL</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/MySQL/e95cfa56.html" rel="next" title="数据库介绍与分类"><i class="fa fa-chevron-left"></i> 数据库介绍与分类</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/设计模式/2aa1ddf5.html" rel="prev" title="模板方法设计模式">模板方法设计模式 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div><div class="comments" id="comments"><div id="gitment-container"></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/information/avatar.jpg" alt="caifenglin"><p class="site-author-name" itemprop="name">caifenglin</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">31</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">18</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">14</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/caifenglin" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="https://gitee.com/caifenglin" target="_blank" title="码云"><i class="fa fa-fw fa-gg"></i>码云</a> </span><span class="links-of-author-item"><a href="mailto:y724329369@qq.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a> </span><span class="links-of-author-item"><a href="https://plus.google.com/caifenglin1314" target="_blank" title="Google"><i class="fa fa-fw fa-globe"></i>Google</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-inline"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="http://springbook.cn/" title="个人网站" target="_blank">个人网站</a></li><li class="links-of-blogroll-item"><a href="http://springbook.cn:10000/" title="Gogs" target="_blank">Gogs</a></li><li class="links-of-blogroll-item"><a href="http://caifenglin.gitee.io/es6/" title="ECMAScript6" target="_blank">ECMAScript6</a></li></ul></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#mysql-查询当天、本周，本月，上一个月的数据"><span class="nav-number">1.</span> <span class="nav-text">mysql 查询当天、本周，本月，上一个月的数据</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019</span> <span class="with-love"><i class="fa fa-heart-o"></i> </span><span class="author" itemprop="copyrightHolder">caifenglin</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-area-chart"></i> </span><span class="post-meta-item-text">Site words total count&#58;</span> <span title="Site words total count">43.4k</span></div><div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div><span class="post-meta-divider">|</span><div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css"><script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script><script type="text/javascript">function renderGitment(){var n=new Gitmint({id:window.location.pathname,owner:"caifenglin",repo:"caifenglin.github.io",lang:navigator.language||navigator.systemLanguage||navigator.userLanguage,oauth:{client_secret:"908b65bfc6a0f32b32aefd7899476e0c9a6685c3",client_id:"bf00a5920c0c1496a121"}});n.render("gitment-container")}renderGitment()</script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(t,e,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,r=document.getElementById(e),s=document.getElementById(o),a=function(){var t=r.value.trim().toLowerCase(),e=t.split(/[\s\-]+/);e.length>1&&e.push(t);var o=[];if(t.length>0&&n.forEach(function(n){function r(e,o,n,r){for(var s=r[r.length-1],a=s.position,i=s.word,l=[],h=0;a+i.length<=n&&0!=r.length;){i===t&&h++,l.push({position:a,length:i.length});var p=a+i.length;for(r.pop();0!=r.length&&(s=r[r.length-1],a=s.position,i=s.word,p>a);)r.pop()}return c+=h,{hits:l,start:o,end:n,searchTextCount:h}}function s(t,e){var o="",n=e.start;return e.hits.forEach(function(e){o+=t.substring(n,e.position);var r=e.position+e.length;o+='<b class="search-keyword">'+t.substring(e.position,r)+"</b>",n=r}),o+=t.substring(n,e.end)}var a=!1,i=0,c=0,l=n.title.trim(),h=l.toLowerCase(),p=n.content.trim().replace(/<[^>]+>/g,""),u=p.toLowerCase(),f=decodeURIComponent(n.url),d=[],g=[];if(""!=l&&(e.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());(s=e.indexOf(t,r))>-1;)a.push({position:s,word:t}),r=s+n;return a}d=d.concat(e(t,h,!1)),g=g.concat(e(t,u,!1))}),(d.length>0||g.length>0)&&(a=!0,i=d.length+g.length)),a){[d,g].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});var v=[];0!=d.length&&v.push(r(l,0,l.length,d));for(var $=[];0!=g.length;){var C=g[g.length-1],m=C.position,x=C.word,w=m-20,y=m+80;w<0&&(w=0),y<m+x.length&&(y=m+x.length),y>p.length&&(y=p.length),$.push(r(p,w,y,g))}$.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});var T=parseInt("1");T>=0&&($=$.slice(0,T));var b="";b+=0!=v.length?"<li><a href='"+f+"' class='search-result-title'>"+s(l,v[0])+"</a>":"<li><a href='"+f+"' class='search-result-title'>"+l+"</a>",$.forEach(function(t){b+="<a href='"+f+'\'><p class="search-result">'+s(p,t)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:c,hitCount:i,id:o.length})}}),1===e.length&&""===e[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>';else{o.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id});var a='<ul class="search-result-list">';o.forEach(function(t){a+=t.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),isfetched===!1?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){var e=27===t.which&&$(".search-popup").is(":visible");e&&onPopupClose()})</script><script type="text/javascript" src="/js/src/love.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/haru01.model.json"},display:{position:"right",width:116,height:460},mobile:{show:!0},log:!1})</script></body></html><!-- rebuild by neat -->